<div class="container" style="width: 100%; margin-left: 200px;">
  <main id="main" class="main">
    <table class="table table-striped">
      <thead class="thead-dark">
        <tr>
          <th>İlan Açıklama</th>
          <th>Kullanıcı</th>
          <th>Spor</th>
          <th>Adres</th>
          <th>Şehir</th>
          <th>İlçe</th>
          <th>Edit</th>
          <!-- Diğer sütun başlıkları -->
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let advert of adverts">
          <td>{{ advert.advertText }}</td>
          <td>{{ advert.user?.userName }}</td>
          <td>{{ advert.sport!.sportName }}</td>
          <td>{{ advert.adress?.adressName}}</td>
          <td>{{ advert.adress!.cityId}}</td>
          <td>{{ advert.adress!.districtId}}</td>
          <td>
            <div class="button-group">
              <button (click)="confirmDelete(advert.id)" class="btn btn-danger" style="width: 8rem; margin-right: 15px;">Sil</button>
              <button (click)="showUpdateForm(advert)" class="btn btn-warning" style="width: 8rem;">Güncelle</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <button (click)="showAddForm = true" class="btn btn-success" style="width: 8rem; margin-right: 15px;">Ekle</button>

    <!-- Yeni ilan ekleme formu (başlangıçta gizli) -->
    <div *ngIf="showAddForm">
      <h2 style="margin-top: 15px;">Yeni İlan Ekle</h2>
      <form>
        <div class="form-group">
          <label for="advertText" style="color: gray;">İlan Açıklama</label>
          <input type="text" class="form-control" id="advertText" name="advertText" [(ngModel)]="newAdvert.advertText">
        </div>
        <div class="form-group">
          <label for="userID" style="color: gray; margin-top: 10px;">Kullanıcı</label>
          <input type="number" class="form-control" id="userID" name="userID" [(ngModel)]="newAdvert.userID">
        </div>
        <div class="form-group">
          <label for="sportID" style="color: gray; margin-top: 10px;">Spor</label>
          <input type="number" class="form-control" id="sportID" name="sportID" [(ngModel)]="newAdvert.sportID">
        </div>
        <div class="form-group">
          <label for="adressID" style="color: gray; margin-top: 10px;">Adres</label>
          <input type="number" class="form-control" id="adressID" name="adressID" [(ngModel)]="newAdvert.adressID">
        </div>
        <div style="margin-top: 15px; width: 100%; text-align: center; display: flex; flex-direction: column; align-items: center;">
          <div style="width: 50%;">
            <button type="button" (click)="cancelAdd()" class="btn btn-secondary" style="width: 100%;">İptal</button>
          </div>
          <div style="width: 50%; margin-top: 10px;">
            <button type="button" (click)="addAdvert()" class="btn btn-primary" style="width: 100%;">Kaydet</button>
          </div>
        </div>

      </form>
    </div>

    <div *ngIf="selectedAdvert">
      <h2 style="margin-top: 15px;">İlan Güncelle</h2>
      <form>
        <!-- Güncelleme için gerekli input alanları burada olmalı -->
        <div class="form-group">
          <label for="updatedAdvertText" style="color: gray; margin-top: 10px;">İlan Açıklama</label>
          <input type="text" class="form-control" id="updatedAdvertText" name="updatedAdvertText" [(ngModel)]="selectedAdvert.advertText">
        </div>

        <div class="form-group">
          <label for="updatedUserId" style="color: gray; margin-top: 10px;">Kullanıcı</label>
          <input type="number" class="form-control" id="updatedUserId" name="updatedUserId" [(ngModel)]="selectedAdvert.userID">
        </div>

        <div class="form-group">
          <label for="updatedSportId" style="color: gray; margin-top: 10px;">Spor</label>
          <input type="number" class="form-control" id="updatedSportId" name="updatedSportId" [(ngModel)]="selectedAdvert.sportID">
        </div>

        <div class="form-group">
          <label for="updatedAdressId" style="color: gray; margin-top: 10px;">Adres</label>
          <input type="number" class="form-control" id="updatedAdressId" name="updatedAdressId" [(ngModel)]="selectedAdvert.adressID">
        </div>
        <!-- Diğer güncelleme alanlarını burada ekleyin -->
        <div style="margin-top: 15px; width: 100%; text-align: center; display: flex; flex-direction: column; align-items: center;">
          <div style="width: 50%;">
            <button type="button" (click)="cancelUpdate()" class="btn btn-secondary" style="width: 100%;">İptal</button>
          </div>
          <div style="width: 50%; margin-top: 10px;">
            <button type="button" (click)="updateAdvert()" class="btn btn-primary" style="width: 100%;">Kaydet</button>
          </div>
        </div>
      </form>
    </div>
  </main>
</div>


